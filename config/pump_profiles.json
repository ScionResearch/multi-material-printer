{
  "pumps": {
    "pump_a": {
      "name": "Pump A",
      "description": "Primary material pump",
      "flow_rate_ml_per_second": 5.0,
      "max_volume_ml": 200,
      "calibration": {
        "steps_per_ml": 100,
        "last_calibrated": null
      }
    },
    "pump_b": {
      "name": "Pump B",
      "description": "Secondary material pump",
      "flow_rate_ml_per_second": 5.0,
      "max_volume_ml": 200,
      "calibration": {
        "steps_per_ml": 100,
        "last_calibrated": null
      }
    },
    "pump_c": {
      "name": "Pump C",
      "description": "Third material pump",
      "flow_rate_ml_per_second": 5.0,
      "max_volume_ml": 200,
      "calibration": {
        "steps_per_ml": 100,
        "last_calibrated": null
      }
    },
    "drain_pump": {
      "name": "Drain Pump",
      "description": "Vat drainage pump",
      "flow_rate_ml_per_second": 5.0,
      "max_volume_ml": 200,
      "calibration": {
        "steps_per_ml": 80,
        "last_calibrated": null
      }
    }
  },
  "material_change": {
    "_comment_sequence": "Material change sequence in order of execution:",
    "_comment_step1": "1. Pause printer (automatic)",
    "_comment_step2": "2. Quiescence wait - allow firmware to process pause",
    "quiescence_seconds": 10,
    "_comment_step3": "3. Bed raise delay - pause command propagation",
    "bed_raise_delay_seconds": 1,
    "_comment_step4": "4. Bed raise wait - mechanical bed movement to raised position",
    "bed_raise_time_seconds": 1,
    "bed_raise_safety_buffer_seconds": 1,
    "_comment_step5": "5. Drain vat - remove old resin",
    "drain_volume_ml": 50,
    "_comment_step6": "6. Fill vat - add new material",
    "fill_volume_ml": 45,
    "_comment_step7": "7. Settle wait - allow material to stabilize and bubbles to dissipate",
    "settle_time_seconds": 5,
    "_comment_step8": "8. Resume printer (automatic)"
  },
  "solenoid": {
    "enabled": true,
    "gpio_pin": 22,
    "description": "Air valve that blows air across vat to push resin toward drain",
    "active_during_drain": true,
    "activate_before_drain_delay_seconds": 0.5,
    "deactivate_after_drain_delay_seconds": 1.0,
    "_comment": "Solenoid opens air valve to blow resin from one side of vat to drain side"
  },
  "safety": {
    "max_pump_runtime_seconds": 300,
    "emergency_stop_enabled": true,
    "sensor_check_interval_seconds": 1
  },
  "maintenance": {
    "pump_cycle_count": {
      "pump_a": 0,
      "pump_b": 0,
      "pump_c": 0,
      "drain_pump": 0
    },
    "last_maintenance_date": null,
    "maintenance_interval_cycles": 1000
  }
}